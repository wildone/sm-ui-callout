<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="../sm-ui-core/sm-ui-core.html"/>

<dom-module id="sm-ui-callout">
  <template>
    <style include="sm-css-shady"></style>
    <style include="sm-css">

      /* Defaults */
      :root {
        --callout-arrow-size: 0.75rem;
      }

      /**
       * Core
       */
      :host {
        position: relative;
        background: white;
        border-radius: var(--border-radius);
        box-shadow: var(--shadow);
        display: none;
      }

      :host([visible]) {
        display: block;
      }

      :host::before {
        content: '';
        position: absolute;
        height: var(--callout-arrow-size);
        width: var(--callout-arrow-size);
        transform: rotate(45deg);
        background: inherit;
      }

      /* Make sure content above arrow */
      :host ::content * {
        position: relative;
        z-index: 1;
      }

      /**
       * Y arrow positioning
       */
      :host([arrow*="top"]) {
        transform: translateY(calc(var(--callout-arrow-size) / 2));
      }

      :host([arrow*="top"])::before {
        top: calc(0px - var(--callout-arrow-size) / 2);
        box-shadow: -1px -1px rgba(0,0,0, 0.075);
      }

      :host([arrow*="bottom"]) {
        transform: translateY(calc(0 - var(--callout-arrow-size) / 2));
      }

      :host([arrow*="bottom"])::before {
        bottom: calc(0px - var(--callout-arrow-size) / 2);
        box-shadow: 1px 1px 1px rgba(0,0,0, 0.2);
      }

      /**
       * X arrow positioning
       */
      :host([arrow*="left"])::before {
        left: var(--callout-arrow-size);
      }

      :host([arrow*="center"])::before {
        left: calc(50% - var(--callout-arrow-size) / 2);
      }

      :host([arrow*="right"])::before {
        right: var(--callout-arrow-size);
      }

    </style>

    <content></content>

  </template>
  <script src="./sm-ui-callout.js" inline></script>
</dom-module>
